{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import { query } from \"../main\";\nimport { galleryList } from \"../main\";\n\nexport function fetchImages() {\n    const searchParams = new URLSearchParams({\n        key: \"43047953-84179c8300fd9f33658a206cf\",\n        q: query,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: \"true\",\n    });\n    galleryList.innerHTML = `<span class=\"loader\"></span>`;\n    const url = `https://pixabay.com/api/?${searchParams}`;\n\n    return fetch(url).then(response => {\n        if (!response.ok) {\n            throw new Error(response.status);\n        }\n        return response.json();\n    });\n}\n\n\n\n\n\n\n\n","\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport { galleryList } from \"../main\";\n\nexport function renderImages(data) {\n    galleryList.innerHTML = \"\";\n    const images = data.hits;\n    if (images.length === 0) {\n      iziToast.error({\n      title: 'Error',\n      message: `❌ Sorry, there are no images matching your search query. Please, try again!`,\n      position: 'topRight',\n    });\n    }\n    const galleryMarkup = images.map(image => {\n        return `<li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n          <img\n            class=\"gallery-image\"\n            width=\"1280\"\n            height=\"152\"\n            src=\"${image.webformatURL}\"\n            data-source=\"${image.largeImageURL}\"\n            alt=\"${image.tags}\"\n          />\n          <ul class=\"gallery-description\">\n          <li><h3>Likes</h3><p>${image.likes}</p>\n          </li>\n          <li><h3>Views</h3><p>${image.views}</p>\n            </li>\n            <li><h3>Comments</h3><p>${image.comments}</p>\n              </li>\n              <li><h3>Downloads</h3><p>${image.downloads}</p>\n                </li>\n          </ul>\n        </a>\n      </li>`;\n    })\n        .join(\"\");\n    \n    galleryList.insertAdjacentHTML('beforeend', galleryMarkup);\n\n    const lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n  });\n\n  lightbox.refresh();\n}\n\n\n\n\n\n\n\n\n\nconst lightbox = new SimpleLightbox('.gallery a', { /* options */ });\nlightbox.refresh();","\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport { fetchImages } from \"./js/pixabay-api\";\nimport { renderImages } from \"./js/render-functions\";\n\n\n\nexport const galleryList = document.querySelector(\".gallery\");\nexport let query = \"\";\nconst input = document.querySelector(\"input\");\nconst button = document.querySelector(\"button\");\n\n\ninput.addEventListener(\"input\", event => {\n    query = input.value.trim();\n    galleryList.innerHTML = \"\";\n});\n\nbutton.addEventListener(\"click\", event => {\n    if (query) {\n        fetchImages(query)\n            .then(data => renderImages(data))\n            .catch(error => {\n                console.log(error);\n                iziToast.error({\n                    title: 'Error',\n                    message: `❌ Sorry, there are no images matching your search query. Please, try again!`,\n                    position: 'topRight',\n                });\n\n            });\n    }\n});\n\n\n\n"],"names":["fetchImages","searchParams","query","galleryList","url","response","renderImages","data","images","iziToast","galleryMarkup","image","SimpleLightbox","lightbox","input","button","event","error"],"mappings":"6vBAGO,SAASA,GAAc,CAC1B,MAAMC,EAAe,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAGC,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACpB,CAAK,EACDC,EAAY,UAAY,+BACxB,MAAMC,EAAM,4BAA4BH,CAAY,GAEpD,OAAO,MAAMG,CAAG,EAAE,KAAKC,GAAY,CAC/B,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MACxB,CAAK,CACL,CCbO,SAASC,EAAaC,EAAM,CAC/BJ,EAAY,UAAY,GACxB,MAAMK,EAASD,EAAK,KAChBC,EAAO,SAAW,GACpBC,EAAS,MAAM,CACf,MAAO,QACP,QAAS,8EACT,SAAU,UAChB,CAAK,EAED,MAAMC,EAAgBF,EAAO,IAAIG,GACtB;AAAA,wCACyBA,EAAM,aAAa;AAAA;AAAA;AAAA;AAAA;AAAA,mBAKxCA,EAAM,YAAY;AAAA,2BACVA,EAAM,aAAa;AAAA,mBAC3BA,EAAM,IAAI;AAAA;AAAA;AAAA,iCAGIA,EAAM,KAAK;AAAA;AAAA,iCAEXA,EAAM,KAAK;AAAA;AAAA,sCAENA,EAAM,QAAQ;AAAA;AAAA,yCAEXA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,YAKnD,EACI,KAAK,EAAE,EAEZR,EAAY,mBAAmB,YAAaO,CAAa,EAExC,IAAIE,EAAe,aAAc,CAClD,aAAc,KAClB,CAAG,EAEQ,QAAO,CAClB,CAUA,MAAMC,EAAW,IAAID,EAAe,aAAc,CAAiB,CAAA,EACnEC,EAAS,QAAS,ECnDX,MAAMV,EAAc,SAAS,cAAc,UAAU,EACrD,IAAID,EAAQ,GACnB,MAAMY,EAAQ,SAAS,cAAc,OAAO,EACtCC,EAAS,SAAS,cAAc,QAAQ,EAG9CD,EAAM,iBAAiB,QAASE,GAAS,CACrCd,EAAQY,EAAM,MAAM,OACpBX,EAAY,UAAY,EAC5B,CAAC,EAEDY,EAAO,iBAAiB,QAASC,GAAS,CAClCd,GACAF,EAAiB,EACZ,KAAKO,GAAQD,EAAaC,CAAI,CAAC,EAC/B,MAAMU,GAAS,CACZ,QAAQ,IAAIA,CAAK,EACjBR,EAAS,MAAM,CACX,MAAO,QACP,QAAS,8EACT,SAAU,UAC9B,CAAiB,CAEjB,CAAa,CAEb,CAAC"}